{"remainingRequest":"/home/zuruck/dev/vue-study/node_modules/babel-loader/lib/index.js!/home/zuruck/dev/vue-study/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/zuruck/dev/vue-study/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/home/zuruck/dev/vue-study/src/components/Car.vue?vue&type=script&lang=js","dependencies":[{"path":"/home/zuruck/dev/vue-study/src/components/Car.vue","mtime":1618885038290},{"path":"/home/zuruck/dev/vue-study/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/zuruck/dev/vue-study/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/zuruck/dev/vue-study/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/zuruck/dev/vue-study/node_modules/vue-loader-v16/dist/index.js","mtime":1616796459000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmluZC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZpbmQtaW5kZXguanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5zcGxpY2UuanMiOwppbXBvcnQgYXhpb3MgZnJvbSAiYXhpb3MiOwoKcmVxdWlyZSgnanF1ZXJ5Jyk7CgpyZXF1aXJlKCdib290c3RyYXAnKTsKCmV4cG9ydCBkZWZhdWx0IHsKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgY2FyOiB7CiAgICAgICAgaWQ6IG51bGwsCiAgICAgICAgbW9kZWw6IG51bGwsCiAgICAgICAgeWVhcjogbnVsbCwKICAgICAgICBicmFuZF9pZDogbnVsbAogICAgICB9LAogICAgICBicmFuZHM6IFtdLAogICAgICBjYXJzOiBbXSwKICAgICAgZWRpdENhcjogW10sCiAgICAgIHNlbGVjdGVkQnJhbmQ6IG51bGwKICAgIH07CiAgfSwKICBtZXRob2RzOiB7CiAgICBhZGRDYXI6IGZ1bmN0aW9uIGFkZENhcigpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIGF4aW9zLnBvc3QoJ2h0dHA6Ly8xMjcuMC4wLjE6ODAwMC9hcGkvY2Fycy8nLCB7CiAgICAgICAgbW9kZWw6IHRoaXMuY2FyLm1vZGVsLAogICAgICAgIHllYXI6IHRoaXMuY2FyLnllYXIsCiAgICAgICAgYnJhbmRfaWQ6IHRoaXMuY2FyLmJyYW5kX2lkCiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgX3RoaXMuY2Fycy5wdXNoKHJlc3BvbnNlLmRhdGEuZGF0YSk7CiAgICAgIH0pOwogICAgfSwKICAgIHNob3dFZGl0TW9kYWw6IGZ1bmN0aW9uIHNob3dFZGl0TW9kYWwoaWQpIHsKICAgICAgdGhpcy5lZGl0Q2FyID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeSh0aGlzLmNhcnMuZmluZChmdW5jdGlvbiAoZWxlbWVudCkgewogICAgICAgIHJldHVybiBlbGVtZW50LmlkID09PSBpZDsKICAgICAgfSkpKTsKICAgICAgY29uc29sZS5sb2codGhpcy5lZGl0Q2FyLCB0aGlzLmNhcnMpOwogICAgICB0aGlzLnNlbGVjdGVkQnJhbmQgPSB0aGlzLmVkaXRDYXIuYnJhbmRfaWQ7CiAgICB9LAogICAgdXBkYXRlQ2FyOiBmdW5jdGlvbiB1cGRhdGVDYXIoKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgYXhpb3MucHV0KCdodHRwOi8vMTI3LjAuMC4xOjgwMDAvYXBpL2NhcnMvJyArIHRoaXMuZWRpdENhci5pZCwgewogICAgICAgIG1vZGVsOiB0aGlzLmVkaXRDYXIubW9kZWwsCiAgICAgICAgeWVhcjogdGhpcy5lZGl0Q2FyLnllYXIsCiAgICAgICAgYnJhbmRfaWQ6IHRoaXMuZWRpdENhci5icmFuZF9pZAogICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgIF90aGlzMi5jYXJzW190aGlzMi5jYXJzLmZpbmRJbmRleChmdW5jdGlvbiAoZWxlbWVudCkgewogICAgICAgICAgcmV0dXJuIGVsZW1lbnQuaWQgPT09IF90aGlzMi5lZGl0Q2FyLmlkOwogICAgICAgIH0pXSA9IHJlc3BvbnNlLmRhdGEuZGF0YTsKICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgcmV0dXJuIGNvbnNvbGUubG9nKGVycm9yKTsKICAgICAgfSk7CiAgICB9LAogICAgZGVsZXRlQ2FyOiBmdW5jdGlvbiBkZWxldGVDYXIoaWQpIHsKICAgICAgdmFyIF90aGlzMyA9IHRoaXM7CgogICAgICBheGlvcy5kZWxldGUoJ2h0dHA6Ly8xMjcuMC4wLjE6ODAwMC9hcGkvY2Fycy8nICsgaWQpLnRoZW4oZnVuY3Rpb24gKCkgewogICAgICAgIF90aGlzMy5jYXJzLnNwbGljZShfdGhpczMuY2Fycy5maW5kSW5kZXgoZnVuY3Rpb24gKGVsZW1lbnQpIHsKICAgICAgICAgIHJldHVybiBlbGVtZW50LmlkID09PSBpZDsKICAgICAgICB9KSwgMSk7CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgIHJldHVybiBjb25zb2xlLmxvZyhlcnJvcik7CiAgICAgIH0pOwogICAgfQogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIHZhciBfdGhpczQgPSB0aGlzOwoKICAgIGF4aW9zLmdldCgnaHR0cDovLzEyNy4wLjAuMTo4MDAwL2FwaS9jYXJzLycpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgIHJldHVybiBfdGhpczQuY2FycyA9IHJlc3BvbnNlLmRhdGEuZGF0YTsKICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgICByZXR1cm4gY29uc29sZS5sb2coZXJyb3IpOwogICAgfSk7CiAgICBheGlvcy5nZXQoJ2h0dHA6Ly8xMjcuMC4wLjE6ODAwMC9hcGkvYnJhbmRzLycpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgIHJldHVybiBfdGhpczQuYnJhbmRzID0gcmVzcG9uc2UuZGF0YS5kYXRhOwogICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgIHJldHVybiBjb25zb2xlLmxvZyhlcnJvcik7CiAgICB9KTsKICB9LAogIG5hbWU6ICJDYXIiCn07"},{"version":3,"sources":["/home/zuruck/dev/vue-study/src/components/Car.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <form @submit.prevent=\"addCar\" class=\"w-100\">\n    <div class=\"form-group\">\n      <label for=\"model\">Modelo</label>\n      <input class=\"form-control\" v-model=\"car.model\" type=\"text\" id=\"model\">\n    </div>\n\n    <div class=\"form-group\">\n      <label for=\"brand\">Marca</label>\n      <select class=\"form-control\" v-model=\"car.brand_id\" id=\"brand\">\n        <option v-bind:value=\"brand.id\" :key=\"brand\" v-for=\"brand in brands\">{{brand.name}}</option>\n      </select>\n    </div>\n\n    <div class=\"form-group\">\n      <label for=\"year\">Ano</label>\n      <input class=\"form-control\" v-model=\"car.year\" type=\"text\" id=\"year\">\n    </div>\n\n    <button class=\"btn btn-success btn-md\">Criar</button>\n  </form>\n\n  <div class=\"w-100 mt-1\">\n    <h3>Lista de Carros</h3>\n    <table class=\"table\">\n      <thead>\n        <td>Modelo</td>\n        <td>Marca</td>\n        <td>Ano</td>\n        <td>Editar</td>\n        <td>Deletar</td>\n      </thead>\n      <tbody v-bind:key=\"car\" v-for=\"car in cars\">\n        <td>{{ car.model }}</td>\n        <td>{{ car.brand_name }}</td>\n        <td>{{ car.year }}</td>\n        <td><button type=\"button\" class=\"btn btn-warning btn-md\" @click=\"showEditModal(car.id)\" data-toggle=\"modal\" data-target=\"#editCarModal\">Editar</button></td>\n        <td><button class=\"btn btn-danger btn-md\" @click=\"deleteCar(car.id)\">Deletar</button></td>\n      </tbody>\n    </table>\n  </div>\n\n\n  <div class=\"modal fade\" id=\"editCarModal\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"editCarModal\" aria-hidden=\"true\">\n    <div class=\"modal-dialog\" role=\"document\">\n      <div class=\"modal-content\">\n        <div class=\"modal-header\">\n          <h5 class=\"modal-title\">Editar Carro</h5>\n          <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\n            <span aria-hidden=\"true\">&times;</span>\n          </button>\n        </div>\n        <div class=\"modal-body\">\n            <div class=\"form-group\">\n              <label for=\"edit-model\">Modelo</label>\n              <input class=\"form-control\" v-model=\"editCar.model\" type=\"text\" id=\"edit-model\">\n            </div>\n\n            <div class=\"form-group\">\n              <label for=\"edit-brand\">Marca</label>\n              <select class=\"form-control\" v-model=\"editCar.brand_id\" id=\"edit-brand\">\n                <option v-bind:value=\"brand.id\" :key=\"brand\" v-for=\"brand in brands\">{{brand.name}}</option>\n              </select>\n            </div>\n\n            <div class=\"form-group\">\n              <label for=\"edit-year\">Ano</label>\n              <input class=\"form-control\" v-model=\"editCar.year\" type=\"text\" id=\"edit-year\">\n            </div>\n        </div>\n        <div class=\"modal-footer\">\n          <button type=\"button\" class=\"btn btn-secondary\" data-dismiss=\"modal\">Close</button>\n          <button type=\"button\" @click=\"updateCar\" data-dismiss=\"modal\" class=\"btn btn-primary\">Save changes</button>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport axios from \"axios\";\nrequire('jquery');\nrequire('bootstrap');\n\nexport default {\n  data() {\n    return {\n      car: {\n        id: null,\n        model: null,\n        year: null,\n        brand_id: null,\n      },\n      brands: [],\n      cars: [],\n      editCar: [],\n      selectedBrand: null,\n    }\n  },\n  methods: {\n    addCar() {\n      axios\n          .post('http://127.0.0.1:8000/api/cars/', {\n            model: this.car.model,\n            year: this.car.year,\n            brand_id: this.car.brand_id\n          })\n          .then((response) => {\n            this.cars.push(response.data.data)\n          })\n    },\n    showEditModal(id) {\n      this.editCar = JSON.parse(JSON.stringify(this.cars.find(element => element.id === id)));\n      console.log(this.editCar, this.cars)\n      this.selectedBrand = this.editCar.brand_id;\n    },\n    updateCar() {\n      axios\n          .put('http://127.0.0.1:8000/api/cars/' + this.editCar.id, {\n            model: this.editCar.model,\n            year: this.editCar.year,\n            brand_id: this.editCar.brand_id\n          })\n          .then((response) => {\n            this.cars[this.cars.findIndex(element => element.id === this.editCar.id)] = response.data.data;\n          })\n          .catch((error) => console.log(error));\n    },\n    deleteCar(id) {\n      axios\n          .delete('http://127.0.0.1:8000/api/cars/' + id)\n          .then(() => {\n            this.cars.splice(this.cars.findIndex(element => element.id === id), 1);\n          })\n          .catch((error) => console.log(error));\n    },\n  },\n  mounted() {\n    axios\n        .get('http://127.0.0.1:8000/api/cars/')\n        .then(response => (this.cars = response.data.data))\n        .catch((error) => console.log(error));\n    axios\n        .get('http://127.0.0.1:8000/api/brands/')\n        .then(response => (this.brands = response.data.data))\n        .catch((error) => console.log(error))\n  },\n  name: \"Car\"\n}\n</script>\n\n<style scoped>\n\n</style>"],"sourceRoot":""}]}